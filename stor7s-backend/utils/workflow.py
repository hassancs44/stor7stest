def initial_state(role, department=None):
    if role == "ููุธู":
        if department in ["ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ"]:
            return "ุจุงูุชุธุงุฑ ุงููุดุชุฑูุงุช"
        return "ุจุงูุชุธุงุฑ ูุฏูุฑ ุงููุณู"

    if role in [
        "ูุฏูุฑ ุงููุณู",
        "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
        "ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ",
        "ุชูููุฉ ุงููุนูููุงุช"
    ]:
        return "ุจุงูุชุธุงุฑ ุงููุดุชุฑูุงุช"

    return "ุจุงูุชุธุงุฑ ุงููุดุชุฑูุงุช"


def after_manager():
    return "ุจุงูุชุธุงุฑ ุงููุดุชุฑูุงุช"

def purchasing_action(action):
    return {
        "ุตุฑู": "ุชู ุงูุตุฑู - HR",
        "ุดุฑุงุก": "ุชู ุงูุดุฑุงุก - ุจุงูุชุธุงุฑ ุงูุงุณุชูุงู",
        "IT":   "ูุญูู ููุณู IT",
        "ุงุณุชูุงู": "ููุชูู - ุชูุช ุงูุนูููุฉ"
    }.get(action, "ููุฏ ุงูุชูููุฐ")



# =========================================
# ๐ ุฅุฑุณุงู ุงูุทูุจ ูููุดุชุฑูุงุช
# =========================================
from utils.excel import load, save

def to_purchasing(request_id):
    """ุชุญููู ุญุงูุฉ ุงูุทูุจ ูููุดุชุฑูุงุช ูุชุญุฏูุซ ุฌุฏูู ุงูุทูุจุงุช"""
    df = load("requests")
    request_id = str(request_id)

    if request_id in df["ุฑูู_ุงูุทูุจ"].astype(str).values:
        df.loc[df["ุฑูู_ุงูุทูุจ"].astype(str) == request_id, "ุงูุญุงูุฉ"] = "ุจุงูุชุธุงุฑ ุงููุดุชุฑูุงุช"
        save("requests", df)
        print(f"๐ฆ ุชู ุชุญููู ุงูุทูุจ ุฑูู {request_id} ุฅูู ุงููุดุชุฑูุงุช")
        return True

    print(f"โ๏ธ ุงูุทูุจ {request_id} ุบูุฑ ููุฌูุฏ")
    return False
